
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/docs/unit-2/forms-in-django/">
      
      
        <link rel="prev" href="../admin-interface/">
      
      
        <link rel="next" href="../database-setup/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Forms in Django - Mastering Django</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Merriweather";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#forms-in-django" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mastering Django" class="md-header__button md-logo" aria-label="Mastering Django" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mastering Django
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Forms in Django
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../unit-1/introduction-to-django/" class="md-tabs__link">
          
  
  
  Django Basics

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
  
  Models and Databases

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../unit-3/overview/" class="md-tabs__link">
          
  
  
  Views, URLConfs, Template Engine and Non-HTML Content

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mastering Django" class="md-nav__button md-logo" aria-label="Mastering Django" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Mastering Django
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Django Basics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Django Basics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/introduction-to-django/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction to Django
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/virtual-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/project-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup a Project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/project-and-app-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project and App Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Models and Databases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models and Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-migrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Forms in Django
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Forms in Django
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-use-django-forms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why use Django Forms?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-perfect-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚ú® The Perfect Form
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#two-types-of-forms-in-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        üß± Two Types of Forms in Django
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß± Two Types of Forms in Django">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-forms-formsform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Forms (forms.Form)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-forms-formsmodelform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Forms (forms.ModelForm)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-form-example-feedback-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Form Example: Feedback Form
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Form Example: Feedback Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-a-standard-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining a Standard Form
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-the-form-in-a-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering the Form in a Template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-url-for-the-form-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a URL for the Form View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procesing-the-form-in-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procesing the Form in Views
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-form-example-song-submission-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚úçÔ∏è Model Form Example: Song Submission Form
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚úçÔ∏è Model Form Example: Song Submission Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-the-form-in-formspy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Define the Form in forms.py
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-songform-in-a-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the SongForm in a View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render-the-form-in-a-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        Render the Form in a Template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-url-for-the-modelform-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a URL for the ModelForm View
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-validation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîí Custom Validation Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîí Custom Validation Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-level-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field-Level Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-level-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Form-Level Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-look-and-feel" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé® Custom Look and Feel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üé® Custom Look and Feel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Custom Widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-rendering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Rendering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-packs-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Template Packs (Recommended)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../using-environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Views, URLConfs, Template Engine and Non-HTML Content
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Views, URLConfs, Template Engine and Non-HTML Content
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/advanced-url-dispatching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced URL Dispatching
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/working-with-generic-views/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Working with Generic Views
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/deep-dive-django-templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deep Dive - Django Template System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/specialized-content-and-output/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Specialized Content & Output
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-3/metadata-and-discovery-frameworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata & Discovery Frameworks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-use-django-forms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why use Django Forms?
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-perfect-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚ú® The Perfect Form
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#two-types-of-forms-in-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        üß± Two Types of Forms in Django
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß± Two Types of Forms in Django">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#standard-forms-formsform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Forms (forms.Form)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-forms-formsmodelform" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Forms (forms.ModelForm)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#standard-form-example-feedback-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard Form Example: Feedback Form
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Standard Form Example: Feedback Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-a-standard-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining a Standard Form
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-the-form-in-a-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        Rendering the Form in a Template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-url-for-the-form-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a URL for the Form View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procesing-the-form-in-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procesing the Form in Views
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-form-example-song-submission-form" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚úçÔ∏è Model Form Example: Song Submission Form
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚úçÔ∏è Model Form Example: Song Submission Form">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#define-the-form-in-formspy" class="md-nav__link">
    <span class="md-ellipsis">
      
        Define the Form in forms.py
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-songform-in-a-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using the SongForm in a View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#render-the-form-in-a-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        Render the Form in a Template
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-url-for-the-modelform-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating a URL for the ModelForm View
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-validation-rules" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîí Custom Validation Rules
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîí Custom Validation Rules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#field-level-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Field-Level Validation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#form-level-validation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Form-Level Validation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-look-and-feel" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé® Custom Look and Feel
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üé® Custom Look and Feel">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-custom-widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Custom Widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-rendering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual Rendering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#template-packs-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Template Packs (Recommended)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="forms-in-django">üìù Forms in Django<a class="headerlink" href="#forms-in-django" title="Permanent link">&para;</a></h1>
<p>Django's form handling is one of its most powerful and utilized features. It abstracts away the tedious and often insecure process of preparing data for rendering, validating user-submitted data, and converting it to Python data types.</p>
<p>The core components of the Django form system are:</p>
<ul>
<li><strong>Form Class</strong>:</li>
</ul>
<p>The primary class used to define a form, specifying the fields and their validation rules.</p>
<ul>
<li><strong>Field Objects</strong>:</li>
</ul>
<p>Instances of classes like CharField, IntegerField, etc., which handle validation and cleaning for specific data types.</p>
<ul>
<li><strong>Widget Objects</strong>:</li>
</ul>
<p>Define how a form field is rendered as an HTML input type (e.g., <code>&lt;input type="text"&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;select&gt;</code>). Widgets are purely concerned with the presentation layer.</p>
<h2 id="why-use-django-forms">Why use Django Forms?<a class="headerlink" href="#why-use-django-forms" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Security</strong>:</li>
</ul>
<p>Forms handle CSRF (Cross-Site Request Forgery) protection automatically and help prevent other common web vulnerabilities by sanitizing and validating input.</p>
<ul>
<li><strong>Convenience</strong>:</li>
</ul>
<p>They automate rendering HTML, displaying error messages, and repopulating forms after an invalid submission.</p>
<ul>
<li><strong>Validation</strong>:</li>
</ul>
<p>Built-in validation methods for common data types (e.g., email, URL, date) and the ability to define custom validation rules.</p>
<ul>
<li><strong>Integration with Models</strong>:</li>
</ul>
<p>ModelForms allow for easy creation of forms directly tied to Django models, reducing boilerplate code for CRUD operations.</p>
<ul>
<li><strong>Data Cleaning</strong>:</li>
</ul>
<p>The system ensures that data is converted into reliable Python types (e.g., a string from a text field becomes a Python int for an IntegerField).</p>
<h2 id="the-perfect-form">‚ú® The Perfect Form<a class="headerlink" href="#the-perfect-form" title="Permanent link">&para;</a></h2>
<p>The Perfect Form" often refers to a form that is secure, fully validated, and provides an excellent user experience (UX).</p>
<p><strong>Key Characteristics:</strong></p>
<ul>
<li><strong>HTML Structure</strong>:</li>
</ul>
<p>The form is correctly wrapped in <code>&lt;form&gt;</code> tags with the proper method (usually POST) and includes the CSRF token ({% csrf_token %}).</p>
<ul>
<li><strong>Validation</strong>:</li>
</ul>
<p>It enforces both field-level (e.g., is this a valid email?) and form-level (e.g., does password match confirm password?) validation.</p>
<ul>
<li><strong>Clear Errors</strong>:</li>
</ul>
<p>Validation errors are displayed next to the relevant field, making it easy for the user to correct their input.</p>
<ul>
<li><strong>Accessibility</strong>:</li>
</ul>
<p>Use of proper HTML labels and accessibility attributes.</p>
<ul>
<li><strong>Repopulation</strong>:</li>
</ul>
<p>If a form submission fails validation, the form is re-rendered with the user's previously entered data to prevent them from having to re-type everything.</p>
<h2 id="two-types-of-forms-in-django">üß± Two Types of Forms in Django<a class="headerlink" href="#two-types-of-forms-in-django" title="Permanent link">&para;</a></h2>
<h3 id="standard-forms-formsform">Standard Forms (<code>forms.Form</code>)<a class="headerlink" href="#standard-forms-formsform" title="Permanent link">&para;</a></h3>
<p>Used for forms that do not directly interact with a database model. You define each field manually.</p>
<h3 id="model-forms-formsmodelform">Model Forms (<code>forms.ModelForm</code>)<a class="headerlink" href="#model-forms-formsmodelform" title="Permanent link">&para;</a></h3>
<p>Automatically create a form based on a Django model. This is useful for creating forms that correspond to database records.</p>
<h2 id="standard-form-example-feedback-form">Standard Form Example: Feedback Form<a class="headerlink" href="#standard-form-example-feedback-form" title="Permanent link">&para;</a></h2>
<h3 id="defining-a-standard-form">Defining a Standard Form<a class="headerlink" href="#defining-a-standard-form" title="Permanent link">&para;</a></h3>
<ul>
<li>define every field explicitly in the <code>forms.py</code> file.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="k">class</span><span class="w"> </span><span class="nc">FeedbackForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">Form</span><span class="p">):</span>
  <span class="c1"># This form does not interact with a database model directly.</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your Name&#39;</span><span class="p">,</span>
    <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span>
  <span class="p">)</span>
  <span class="n">email</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your Email&#39;</span><span class="p">,</span>
    <span class="n">required</span><span class="o">=</span><span class="kc">True</span>
  <span class="p">)</span>
  <span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your Feedback&#39;</span><span class="p">,</span>
    <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;cols&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;placeholder&#39;</span><span class="p">:</span> <span class="s1">&#39;Enter your feedback here...&#39;</span><span class="p">})</span> 
  <span class="p">)</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">clean_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>
      <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">char</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">name</span><span class="p">):</span>
          <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Name cannot contain numbers.&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">name</span>

  <span class="k">def</span><span class="w"> </span><span class="nf">clean_message</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;message&#39;</span><span class="p">)</span>
      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
          <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Message must be at least 10 characters long.&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">message</span>
</code></pre></div>

<h3 id="rendering-the-form-in-a-template">Rendering the Form in a Template<a class="headerlink" href="#rendering-the-form-in-a-template" title="Permanent link">&para;</a></h3>
<ul>
<li>Render the defined form in <code>feedback.html</code></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Please provide your feedback below<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
{% if form.errors %}
<span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
  {% for field in form %}
  {% for error in field.errors %}
  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>{{ error }}<span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
  {% endfor %}
  {% endfor %}
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
{% endif %}
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">&gt;</span>
  {% csrf_token %}
  {{ form.as_p }}    
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Submit Feedback<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>

<h3 id="creating-a-url-for-the-form-view">Creating a URL for the Form View<a class="headerlink" href="#creating-a-url-for-the-form-view" title="Permanent link">&para;</a></h3>
<ul>
<li>add a URL pattern in <code>urls.py</code> to point to the form view</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="c1"># feedback/urls.py</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">feedback_view</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;feedback&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># geetshala/urls.py</span>
<span class="o">.....</span>
<span class="o">.....</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">......</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;feedback/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;feedback.urls&#39;</span><span class="p">)),</span>
<span class="p">]</span>
</code></pre></div>

<h3 id="procesing-the-form-in-views">Procesing the Form in Views<a class="headerlink" href="#procesing-the-form-in-views" title="Permanent link">&para;</a></h3>
<ul>
<li>view logic to handle both the initial loading and form submission in <code>views.py</code></li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">FeedbackForm</span>
<span class="k">def</span><span class="w"> </span><span class="nf">feedback_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">FeedbackForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
      <span class="c1"># Process the cleaned data</span>
      <span class="n">name</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
      <span class="n">email</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
      <span class="n">message</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span>
      <span class="c1"># e.g. send email</span>
      <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Feedback received from </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">): </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
      <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Thank you for your feedback!&quot;</span><span class="p">)</span>  <span class="c1"># Simply render a thank you message</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Form is invalid; render the form with error messages</span>
      <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;feedback.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">FeedbackForm</span><span class="p">()</span>  <span class="c1"># Unbound form for GET request</span>

  <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;feedback.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
</code></pre></div>

<details class="tip">
<summary>Do It Yourself: Create a New Form to collect Feedback on the page</summary>
<p>Create an endpoint with the form to collect feedback from users about the website. The form should include fields for name, email, and message. Implement validation to ensure that the email is valid and the message is at least 10 characters long. Render the form in a template and handle form submissions in a view.</p>
</details>
<h2 id="model-form-example-song-submission-form">‚úçÔ∏è Model Form Example: Song Submission Form<a class="headerlink" href="#model-form-example-song-submission-form" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><code>ModelForm</code> is a convenience class that drastically simplifies the creation of forms that interact directly with a Django model.</p>
</li>
<li>
<p>The <code>ModelForm</code> is a powerful abstraction that allows you to focus on your application's logic rather than the repetitive task of defining form fields.</p>
</li>
</ul>
<p>It handles:</p>
<p><strong>Field Definition</strong>: Automatically creates form fields corresponding to the model's fields (e.g., a CharField for a TextField, an EmailField for an EmailField).</p>
<p><strong>Initial Data</strong>: Pre-populates the form with data from an existing model instance (when editing).</p>
<p><strong>Saving Data</strong>: Automatically calls the model's save() method upon valid submission.
Basic <code>ModelForm</code> Example</p>
<h3 id="define-the-form-in-formspy">Define the Form in forms.py<a class="headerlink" href="#define-the-form-in-formspy" title="Permanent link">&para;</a></h3>
<p>This code defines a form in <code>songs/forms.py</code> based on the <code>Song</code> model.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django</span><span class="w"> </span><span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Song</span>
<span class="k">class</span><span class="w"> </span><span class="nc">SongForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
<span class="w">  </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">  Creates a form based on the Song model.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
      <span class="c1"># Specify the model to base the form on</span>
      <span class="n">model</span> <span class="o">=</span> <span class="n">Song</span>

      <span class="c1"># Specify the fields to include in the form</span>
      <span class="n">fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;lyrics&#39;</span><span class="p">,</span> <span class="s1">&#39;released_date&#39;</span><span class="p">,</span> <span class="s1">&#39;is_published&#39;</span><span class="p">]</span>

      <span class="c1"># Optional customization</span>
      <span class="c1"># Add custom labels for the fields</span>
      <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
          <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Title of the Song&#39;</span><span class="p">,</span>
          <span class="s1">&#39;lyrics&#39;</span><span class="p">:</span> <span class="s1">&#39;Lyrics&#39;</span><span class="p">,</span>
          <span class="s1">&#39;released_date&#39;</span><span class="p">:</span> <span class="s1">&#39;When was it released?&#39;</span><span class="p">,</span>
          <span class="s1">&#39;is_published&#39;</span><span class="p">:</span> <span class="s1">&#39;Should this song be in the portal?&#39;</span><span class="p">,</span>
      <span class="p">}</span>

      <span class="c1"># Optional customization of widgets</span>
      <span class="n">widgets</span> <span class="o">=</span> <span class="p">{</span>
          <span class="s1">&#39;lyrics&#39;</span><span class="p">:</span> <span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;cols&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">}),</span>
          <span class="s1">&#39;released_date&#39;</span><span class="p">:</span> <span class="n">forms</span><span class="o">.</span><span class="n">SelectDateWidget</span><span class="p">(),</span>
      <span class="p">}</span>
</code></pre></div>

<h3 id="using-the-songform-in-a-view">Using the <code>SongForm</code> in a View<a class="headerlink" href="#using-the-songform-in-a-view" title="Permanent link">&para;</a></h3>
<p>In your view, you can instantiate the <code>SongForm</code>, render it in a template, and handle form submissions.</p>
<div class="codehilite"><pre><span></span><code>from django.shortcuts import render, redirect
from .forms import SongForm
def create_song(request):
  if request.method == &#39;POST&#39;:

    # Bind the POST data to the form
    form = SongForm(request.POST)

    if form.is_valid():
      form.save()  # Saves the new Song instance to the database
      return redirect(&#39;song_list&#39;)  # Redirect to a list of songs or another page

  else:
    form = SongForm()  # Unbound form for GET request

  return render(request, &#39;song_form.html&#39;, {&#39;form&#39;: form})
</code></pre></div>

<h3 id="render-the-form-in-a-template">Render the Form in a Template<a class="headerlink" href="#render-the-form-in-a-template" title="Permanent link">&para;</a></h3>
<p>In the template, you can render the form fields automatically using the <code>as_p</code>, <code>as_ul</code>, or <code>as_table</code> methods, or manually for more control.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Submit a New Song<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">form</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span><span class="p">&gt;</span>
  {% csrf_token %}
  {{ form.as_p }}    
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span><span class="p">&gt;</span>Submit Song Details<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</code></pre></div>

<h3 id="creating-a-url-for-the-modelform-view">Creating a URL for the ModelForm View<a class="headerlink" href="#creating-a-url-for-the-modelform-view" title="Permanent link">&para;</a></h3>
<ul>
<li>add a URL pattern in <code>urls.py</code> to point to the form view</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="c1"># songs/urls.py</span>
<span class="o">...</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;new&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">create_song</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;create_song&#39;</span><span class="p">),</span>
    <span class="o">....</span>
<span class="p">]</span>
</code></pre></div>

<details class="tip">
<summary>Do It Yourself: Add a page to update the Song details</summary>
<p>Create a view and template to update existing Song records using the <code>SongForm</code> ModelForm. Ensure that the form is pre-populated with the current data of the song being edited. Handle form submissions to save the updated data back to the database.</p>
</details>
<h2 id="custom-validation-rules">üîí Custom Validation Rules<a class="headerlink" href="#custom-validation-rules" title="Permanent link">&para;</a></h2>
<p>You can define custom rules for individual fields or rules that depend on multiple fields.</p>
<h3 id="field-level-validation">Field-Level Validation<a class="headerlink" href="#field-level-validation" title="Permanent link">&para;</a></h3>
<p>You can add a <code>clean_&lt;fieldname&gt;</code> method to your form class. This method is executed after the field's default validation and cleaning.</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clean_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="n">title</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">title</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">):</span>
    <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Title must be at least 5 characters long&quot;</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">title</span>
</code></pre></div>

<h3 id="form-level-validation">Form-Level Validation<a class="headerlink" href="#form-level-validation" title="Permanent link">&para;</a></h3>
<p>For rules that involve comparing or checking multiple fields (e.g., ensuring a start_date is before an end_date), you use the main <code>clean()</code> method.</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
  <span class="n">cleaned_data</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
  <span class="n">title</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
  <span class="n">lyrics</span> <span class="o">=</span> <span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;lyrics&#39;</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">title</span> <span class="ow">and</span> <span class="n">lyrics</span> <span class="ow">and</span> <span class="n">title</span> <span class="ow">in</span> <span class="n">lyrics</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">forms</span><span class="o">.</span><span class="n">ValidationError</span><span class="p">(</span><span class="s2">&quot;Title do not match with the lyrics content.&quot;</span><span class="p">)</span>
</code></pre></div>

<h2 id="custom-look-and-feel">üé® Custom Look and Feel<a class="headerlink" href="#custom-look-and-feel" title="Permanent link">&para;</a></h2>
<p>Django provides powerful ways to customize the appearance of your forms without giving up its validation benefits.</p>
<h3 id="using-custom-widgets">Using Custom Widgets<a class="headerlink" href="#using-custom-widgets" title="Permanent link">&para;</a></h3>
<p>Widgets control the HTML input element. You can override the default widget for any field.</p>
<div class="codehilite"><pre><span></span><code><span class="n">message</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;form-control custom-textarea&#39;</span><span class="p">,</span> <span class="s1">&#39;rows&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}),</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Your Feedback&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="manual-rendering">Manual Rendering<a class="headerlink" href="#manual-rendering" title="Permanent link">&para;</a></h3>
<p>For maximum control, you can render each field individually in your template:</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-group&quot;</span><span class="p">&gt;</span>
  {{ form.subject.label_tag }} {{ form.subject }} {% for error in form.subject.errors %}
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;error-message&quot;</span><span class="p">&gt;</span>{{ error }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
  {% endfor %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<h3 id="template-packs-recommended">Template Packs (Recommended)<a class="headerlink" href="#template-packs-recommended" title="Permanent link">&para;</a></h3>
<p>Modern Django encourages using form template packs (or template fragment overrides since Django 3.2). This involves overriding the default HTML snippets that Django uses to render forms (<code>{{ form.as_p }}</code>). Libraries like <code>django-crispy-forms</code> are popular for applying CSS frameworks (like Bootstrap) easily.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.instant", "navigation.top", "search.highlight", "content.code.annotate", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.com/docs/unit-2/overview/">
      
      
        <link rel="prev" href="../../unit-1/project-and-app-structure/">
      
      
        <link rel="next" href="../database-migrations/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Overview - Mastering Django</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Merriweather";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#topics-covered" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Mastering Django" class="md-header__button md-logo" aria-label="Mastering Django" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mastering Django
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="green" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../unit-1/introduction-to-django/" class="md-tabs__link">
          
  
  
  Django Basics

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Models and Databases

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Mastering Django" class="md-nav__button md-logo" aria-label="Mastering Django" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Mastering Django
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Django Basics
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Django Basics
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/introduction-to-django/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction to Django
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/virtual-environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Virtual Environments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/project-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Setup a Project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../unit-1/project-and-app-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Project and App Structure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Models and Databases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models and Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-mtv-development-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        The MTV Development Pattern
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The MTV Development Pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-model-in-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Model in Django
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Model in Django">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-a-model-in-python-quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining a Model in Python - Quick Example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining a Model in Python - Quick Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-model-database-representation" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Model - Database Representation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing the Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Migrations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-get-started-setting-up-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Let's Get Started - Setting Up the Database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-mysql-database-server-and-creating-a-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting up the MySQL Database server and Creating a Database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-settings-for-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Settings for Django
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-app-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running App Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-model-string-representations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding Model String Representations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Access
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-django-manager-database-gatekeeper" class="md-nav__link">
    <span class="md-ellipsis">
      
        üë®‚Äçüíº The Django Manager: Database Gatekeeper
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interacting-with-the-database-using-django-shell" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interacting with the Database Using Django Shell
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interacting with the Database Using Django Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-database-operations-crud" class="md-nav__link">
    <span class="md-ellipsis">
      
        üõ†Ô∏è Basic Database Operations (CRUD)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inserting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inserting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inserting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-instance-and-saving-it" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating an instance and saving it
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create method
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Selecting Objects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Selecting Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retrieving-all-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retrieving All Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-single-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get a Single Object
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ordering Results
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Updating Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instance-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instance Update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        QuerySet Update
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Objects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deleting Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instance-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instance Deletion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        QuerySet Deletion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-dumb-way-to-do-database-queries-in-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Dumb Way to Do Database Queries in Views
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Dumb Way to Do Database Queries in Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-this-is-dumb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why this is dumb?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-smart-way-do-all-queries-in-the-view-not-in-the-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        üåü The Smart Way: Do All Queries in the View, Not in the Template
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-migrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admin-interface/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin Interface
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../forms-in-django/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forms in Django
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database-setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../using-environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#learning-objectives" class="md-nav__link">
    <span class="md-ellipsis">
      
        Learning Objectives
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-mtv-development-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        The MTV Development Pattern
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The MTV Development Pattern">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#understanding-model-in-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Model in Django
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Model in Django">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-a-model-in-python-quick-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Defining a Model in Python - Quick Example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Defining a Model in Python - Quick Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#first-model-database-representation" class="md-nav__link">
    <span class="md-ellipsis">
      
        First Model - Database Representation
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing the Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#applying-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Applying Migrations
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lets-get-started-setting-up-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Let's Get Started - Setting Up the Database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-the-mysql-database-server-and-creating-a-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Setting up the MySQL Database server and Creating a Database
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-settings-for-django" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Settings for Django
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-app-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Running App Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-model-string-representations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Adding Model String Representations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        Data Access
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Data Access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-django-manager-database-gatekeeper" class="md-nav__link">
    <span class="md-ellipsis">
      
        üë®‚Äçüíº The Django Manager: Database Gatekeeper
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interacting-with-the-database-using-django-shell" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interacting with the Database Using Django Shell
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interacting with the Database Using Django Shell">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-database-operations-crud" class="md-nav__link">
    <span class="md-ellipsis">
      
        üõ†Ô∏è Basic Database Operations (CRUD)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inserting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Inserting
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inserting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-an-instance-and-saving-it" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating an instance and saving it
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Create method
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Selecting Objects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Selecting Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#retrieving-all-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retrieving All Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filtering-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Filtering Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-a-single-object" class="md-nav__link">
    <span class="md-ellipsis">
      
        Get a Single Object
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ordering-results" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ordering Results
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Updating Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instance-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instance Update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-update" class="md-nav__link">
    <span class="md-ellipsis">
      
        QuerySet Update
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Objects
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deleting Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instance-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instance Deletion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryset-deletion" class="md-nav__link">
    <span class="md-ellipsis">
      
        QuerySet Deletion
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-dumb-way-to-do-database-queries-in-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Dumb Way to Do Database Queries in Views
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The Dumb Way to Do Database Queries in Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-this-is-dumb" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why this is dumb?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-smart-way-do-all-queries-in-the-view-not-in-the-template" class="md-nav__link">
    <span class="md-ellipsis">
      
        üåü The Smart Way: Do All Queries in the View, Not in the Template
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="topics-covered">Topics Covered<a class="headerlink" href="#topics-covered" title="Permanent link">&para;</a></h1>
<ul>
<li>Model</li>
<li>Administration Site</li>
<li>Form Processing</li>
</ul>
<h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">&para;</a></h2>
<ul>
<li>Understand the Model-Template-View (MTV) architecture of Django.</li>
<li>Learn how to define and manage models in Django.</li>
<li>Gain proficiency in using Django's admin interface for database management.</li>
<li>Develop skills to create and process forms in Django applications.</li>
</ul>
<h2 id="the-mtv-development-pattern">The MTV Development Pattern<a class="headerlink" href="#the-mtv-development-pattern" title="Permanent link">&para;</a></h2>
<h3 id="understanding-model-in-django">Understanding Model in Django<a class="headerlink" href="#understanding-model-in-django" title="Permanent link">&para;</a></h3>
<hr />
<ul>
<li>the single, definitive source of information about your data.</li>
<li>
<p>contains the essential fields and behaviors of the data you‚Äôre storing</p>
</li>
<li>
<p>Each model - Python class that subclasses <code>django.db.models.Model</code></p>
</li>
<li>Each attribute - a database field</li>
<li>Automatically-generated database-access API</li>
</ul>
<h4 id="defining-a-model-in-python-quick-example">Defining a Model in Python - Quick Example<a class="headerlink" href="#defining-a-model-in-python-quick-example" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>  <span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>

  <span class="k">class</span><span class="w"> </span><span class="nc">Song</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
      <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="c1"># field of the model and maps to a database column</span>
      <span class="n">lyrics</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
      <span class="n">release_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
      <span class="n">is_published</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

<h5 id="first-model-database-representation">First Model - Database Representation<a class="headerlink" href="#first-model-database-representation" title="Permanent link">&para;</a></h5>
<ul>
<li>Dabase Table - <em>songs_song</em></li>
</ul>
<div class="admonition info">
<p class="admonition-title">Table Structure</p>
<table>
<thead>
<tr>
<th>Column Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>Integer</td>
<td>Auto-incrementing primary key</td>
</tr>
<tr>
<td>title</td>
<td>Varchar(100)</td>
<td>Title of the song</td>
</tr>
<tr>
<td>lyrics</td>
<td>Text</td>
<td>Lyrics of the song</td>
</tr>
<tr>
<td>release_date</td>
<td>Date</td>
<td>Release date of the song</td>
</tr>
<tr>
<td>is_published</td>
<td>Boolean</td>
<td>Publication status of the song</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Table name convention - <code>appname_modelname</code></li>
<li>In this case, the app name is <code>songs</code> and the model name is <code>Song</code>, resulting in the table name <code>songs_song</code></li>
<li>An <code>id</code> field is automatically added as the primary key if not explicitly defined.</li>
</ul>
<h4 id="installing-the-model">Installing the Model<a class="headerlink" href="#installing-the-model" title="Permanent link">&para;</a></h4>
<p>Process of having Django create the necessary database tables based on the defined models.</p>
<h5 id="creating-migrations">Creating Migrations<a class="headerlink" href="#creating-migrations" title="Permanent link">&para;</a></h5>
<ul>
<li>creating migration class files that describe the changes to be made to the database schema.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="w">  </span>python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations
</code></pre></div>

<p><img alt="alt text" src="../assets/output-makemigrations.png" /></p>
<h5 id="applying-migrations">Applying Migrations<a class="headerlink" href="#applying-migrations" title="Permanent link">&para;</a></h5>
<ul>
<li>applying the migrations to the database, creating or modifying tables as specified in the migration files.</li>
<li>needs to be run whenever there are new migrations to apply.</li>
<li>requires database connectivity.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="w">  </span>python<span class="w"> </span>manage.py<span class="w"> </span>migrate
</code></pre></div>

<hr />
<h3 id="lets-get-started-setting-up-the-database">Let's Get Started - Setting Up the Database<a class="headerlink" href="#lets-get-started-setting-up-the-database" title="Permanent link">&para;</a></h3>
<hr />
<h3 id="setting-up-the-mysql-database-server-and-creating-a-database"><a href="../database-setup/">Setting up the MySQL Database server and Creating a Database</a><a class="headerlink" href="#setting-up-the-mysql-database-server-and-creating-a-database" title="Permanent link">&para;</a></h3>
<h3 id="database-settings-for-django">Database Settings for Django<a class="headerlink" href="#database-settings-for-django" title="Permanent link">&para;</a></h3>
<ul>
<li>Update the <code>DATABASES</code> setting in your Django project's <code>settings.py</code> file to configure the connection to your MySQL database.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.mysql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;database-name&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;djangouser&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;&lt;djangopassword&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="s1">&#39;3306&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<details class="tip">
<summary>Industry Practice</summary>
<p>Risk of sharing the database credentials in the codebase. In real-world applications, it's a common practice to use environment variables or configuration management tools to securely manage sensitive information like database credentials. This approach helps prevent accidental exposure of credentials in version control systems and enhances overall security.</p>
</details>
<div class="admonition question">
<p class="admonition-title">Mini-Challenge: Introduce Environment Variables for Database Settings</p>
</div>
<h3 id="running-app-migrations">Running App Migrations<a class="headerlink" href="#running-app-migrations" title="Permanent link">&para;</a></h3>
<p>Command to run migrations for a specific app:
<code>python manage.py migrate &lt;app-name&gt;</code></p>
<p>To run migrations for the <code>songs</code> app, use the following command:</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>migrate<span class="w"> </span>songs
</code></pre></div>

<h3 id="adding-model-string-representations">Adding Model String Representations<a class="headerlink" href="#adding-model-string-representations" title="Permanent link">&para;</a></h3>
<ul>
<li>Standard python method <code>__str__</code> to define a human-readable, official string representation of the object.</li>
<li>In the context of Django models, the <code>__str__</code> method is used to provide a meaningful string representation of model instances.</li>
</ul>
<p>To add a string representation to the <code>Song</code> model, you can define the <code>__str__</code> method within the model class. This method should return a human-readable string that represents the object.</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Song</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
    <span class="n">lyrics</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">release_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">is_published</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
</code></pre></div>

<p>Significance(why it's important):</p>
<ul>
<li>Improves readability in the Django admin interface and other places where model instances are displayed.</li>
<li><code>&lt;Song: Song object (1)&gt;</code> becomes <code>&lt;Song: Phoolko Aankhama Phoolai Sansar&gt;</code></li>
</ul>
<h3 id="data-access">Data Access<a class="headerlink" href="#data-access" title="Permanent link">&para;</a></h3>
<h4 id="the-django-manager-database-gatekeeper">üë®‚Äçüíº The Django Manager: Database Gatekeeper<a class="headerlink" href="#the-django-manager-database-gatekeeper" title="Permanent link">&para;</a></h4>
<ul>
<li>The Manager is a Django class that acts as a bridge between your models and the database</li>
<li>Important component of Django's Object-Relational Mapping (ORM) system</li>
<li>Every Django model has at least one Manager, named <code>objects</code> by default</li>
<li>The Manager is the interface through which database query operations are provided to Django models</li>
<li>The Manager can be used to retrieve, filter, and manipulate data in the database</li>
<li>The Manager's methods generally return a QuerySets, which is a collection of database records, or a single model instance</li>
<li>Custom Managers can be defined to add extra manager methods or modify the initial QuerySet</li>
</ul>
<h3 id="interacting-with-the-database-using-django-shell">Interacting with the Database Using Django Shell<a class="headerlink" href="#interacting-with-the-database-using-django-shell" title="Permanent link">&para;</a></h3>
<ul>
<li>Django shell is an interactive Python shell that allows you to interact with your Django project's models and database directly.</li>
<li>It automatically loads the Django environment, making it easy to work with your models and interact with the database using the Object-Relational Mapper (ORM) system, which translates Python code into database queries.</li>
</ul>
<p>This is a powerful tool for:</p>
<ul>
<li>
<p>Inspecting and debugging data.</p>
</li>
<li>
<p>Testing ORM queries and custom model methods.</p>
</li>
<li>
<p>Performing one-off administrative tasks and data clean-up.</p>
</li>
</ul>
<p>To start the Django shell, use the following command in your terminal:</p>
<div class="codehilite"><pre><span></span><code><span class="w">  </span>python<span class="w"> </span>manage.py<span class="w"> </span>shell
</code></pre></div>

<h4 id="basic-database-operations-crud">üõ†Ô∏è Basic Database Operations (CRUD)<a class="headerlink" href="#basic-database-operations-crud" title="Permanent link">&para;</a></h4>
<h4 id="inserting">Inserting<a class="headerlink" href="#inserting" title="Permanent link">&para;</a></h4>
<ul>
<li>Inserting new records into the database using Django ORM.</li>
<li>Two common methods</li>
</ul>
<h5 id="creating-an-instance-and-saving-it">Creating an instance and saving it<a class="headerlink" href="#creating-an-instance-and-saving-it" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code>    <span class="n">new_song</span> <span class="o">=</span> <span class="n">Song</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;‡§´‡•Ç‡§≤‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§´‡•Ç‡§≤‡•à ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞&quot;</span><span class="p">,</span> <span class="n">lyrics</span><span class="o">=</span><span class="s2">&quot;‡§´‡•Ç‡§≤‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§´‡•Ç‡§≤‡•à ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞, ‡§ï‡§æ‡§°‡§æ ‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§ï‡§æ‡§°‡•à‡§Ç ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞ ‡•§ ‡§ù‡•Å‡§≤‡•ç‡§ï‡§ø‡§®‡•ç‡§õ ‡§π‡•à ‡§õ‡§æ‡§Ø‡§æ‡§Å ‡§¨‡§∏‡•ç‡§§‡•Å ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞, ‡§ï‡§æ‡§°‡§æ‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§ï‡§æ‡§°‡•à‡§Ç ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞ ‡•§ ‡§ö‡§ø‡§§‡•ç‡§§ ‡§∏‡•Å‡§¶‡•ç‡§ß ‡§π‡•ã‡§∏‡•ç ‡§Æ‡•á‡§∞‡•ã ‡§¨‡•ã‡§≤‡§ø ‡§¨‡•Å‡§¶‡•ç‡§ß ‡§π‡•ã‡§∏‡•ç, ‡§Æ‡•á‡§∞‡•ã ‡§™‡•à‡§§‡§≤‡§æ‡§≤‡•á ‡§ï‡§ø‡§∞‡•à ‡§®‡§Æ‡§∞‡•ã‡§∏‡•ç ‡•§ ‡§∞‡§æ‡§Æ‡•ç‡§∞‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§ñ‡•Å‡§≤‡•ç‡§õ ‡§∞‡§æ‡§Æ‡•ç‡§∞‡•à ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞, ‡§ï‡§æ‡§°‡§æ‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§ï‡§æ‡§°‡•à‡§Ç ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞ ‡•§ ‡§§‡§π-‡§§‡§π ‡§ú‡•Å‡§® ‡§¶‡•á‡§ñ‡•Å ‡§ï‡§æ‡§≤‡•ã ‡§∞‡§æ‡§§‡•à‡§Æ‡§æ, ‡§ú‡•Ä‡§µ‡§® ‡§∏‡§Ç‡§ó‡•Ä‡§§ ‡§∏‡•Å‡§®‡•Å ‡§Æ ‡§∏‡•Å‡§ñ ‡§™‡§æ‡§§‡•à‡§Æ‡§æ ‡•§ ‡§∏‡§ô‡•ç‡§≤‡•ã ‡§Æ‡§®‡§Æ‡§æ ‡§ñ‡•Å‡§≤‡•ç‡§õ ‡§π‡•à ‡§∏‡§ô‡•ç‡§≤‡•à ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞, ‡§ï‡§æ‡§°‡§æ‡§ï‡•ã ‡§Ü‡§Å‡§ñ‡§æ‡§Æ‡§æ ‡§ï‡§æ‡§°‡•à‡§Ç ‡§∏‡§Ç‡§®‡•ç‡§∏‡§æ‡§∞ ‡•§&quot;</span><span class="p">,</span> <span class="n">release_date</span><span class="o">=</span><span class="s2">&quot;2004-10-11&quot;</span><span class="p">,</span> <span class="n">is_published</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">new_song</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<h5 id="create-method">Create method<a class="headerlink" href="#create-method" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code>  <span class="n">new_song</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Song Title&quot;</span><span class="p">,</span> <span class="n">lyrics</span><span class="o">=</span><span class="s2">&quot;Song Lyrics&quot;</span><span class="p">,</span> <span class="n">release_date</span><span class="o">=</span><span class="s2">&quot;2023-10-01&quot;</span><span class="p">,</span> <span class="n">is_published</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<h4 id="selecting-objects">Selecting Objects<a class="headerlink" href="#selecting-objects" title="Permanent link">&para;</a></h4>
<p>Selecting involves retrieving data from the database using the Manager (.objects) and returning it as a QuerySet (a list-like collection) or a single object.</p>
<h5 id="retrieving-all-objects">Retrieving All Objects<a class="headerlink" href="#retrieving-all-objects" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">all_songs</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">all_songs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<h5 id="filtering-objects">Filtering Objects<a class="headerlink" href="#filtering-objects" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">published_songs</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_published</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">published_songs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<h5 id="get-a-single-object">Get a Single Object<a class="headerlink" href="#get-a-single-object" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">song</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<h5 id="ordering-results">Ordering Results<a class="headerlink" href="#ordering-results" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">ordered_songs</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;release_date&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">song</span> <span class="ow">in</span> <span class="n">ordered_songs</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">song</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<h4 id="updating-data">Updating Data<a class="headerlink" href="#updating-data" title="Permanent link">&para;</a></h4>
<p>Updating data involves retrieving an existing object, modifying its attributes, and saving the changes back to the database.</p>
<h5 id="instance-update">Instance Update<a class="headerlink" href="#instance-update" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">song</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">song</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Updated Song Title&quot;</span>
<span class="n">song</span><span class="o">.</span><span class="n">is_published</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">song</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<h5 id="queryset-update">QuerySet Update<a class="headerlink" href="#queryset-update" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_published</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">is_published</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>update()</code> method directly modifies the database and does not call the <code>save()</code> method on individual instances, so any custom save logic will not be executed.</p>
</div>
<h4 id="deleting-objects">Deleting Objects<a class="headerlink" href="#deleting-objects" title="Permanent link">&para;</a></h4>
<p>Deleting involves removing one or more records from the database.</p>
<h5 id="instance-deletion">Instance Deletion<a class="headerlink" href="#instance-deletion" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">song</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">song</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div>

<h5 id="queryset-deletion">QuerySet Deletion<a class="headerlink" href="#queryset-deletion" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_published</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div>

<h2 id="the-dumb-way-to-do-database-queries-in-views">The Dumb Way to Do Database Queries in Views<a class="headerlink" href="#the-dumb-way-to-do-database-queries-in-views" title="Permanent link">&para;</a></h2>
<ol>
<li>Query in Template</li>
</ol>
<div class="codehilite"><pre><span></span><code>{% for song in songs %}
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ song.lyrics }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ song.album.song_count }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
{% endfor %}
</code></pre></div>

<ol>
<li>Query Inside Template Logic</li>
</ol>
<div class="codehilite"><pre><span></span><code>  {% if Song.objects.filter(id=1).exists %}
    Song exists
  {% endif %}
</code></pre></div>

<h3 id="why-this-is-dumb">Why this is dumb?<a class="headerlink" href="#why-this-is-dumb" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Tempaltes should NOT contain business logic</p>
<p>Only presentation. Not data fetching or filtering.</p>
</li>
<li>
<p>Hard to test</p>
<p>You can‚Äôt easily test performance or logic buried in templates.</p>
</li>
<li>
<p>Causes N+1 Query Problem</p>
<p>The biggest source of performance issues.</p>
</li>
<li>
<p>Violates Django‚Äôs MTV Architecture</p>
<p>Breaks the separation of concerns between Models, Views, and Templates.</p>
</li>
</ul>
<h3 id="the-smart-way-do-all-queries-in-the-view-not-in-the-template">üåü The Smart Way: Do All Queries in the View, Not in the Template<a class="headerlink" href="#the-smart-way-do-all-queries-in-the-view-not-in-the-template" title="Permanent link">&para;</a></h3>
<ul>
<li>Query in the View only. No queries in the template.</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Song</span>
<span class="k">def</span><span class="w"> </span><span class="nf">song_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">songs</span> <span class="o">=</span> <span class="n">Song</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">select_related</span><span class="p">(</span><span class="s1">&#39;album&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;songs/song_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;songs&#39;</span><span class="p">:</span> <span class="n">songs</span><span class="p">})</span>
</code></pre></div>

<ul>
<li>Simple Template! Fast. Clean. Proper MTV.</li>
</ul>
<div class="codehilite"><pre><span></span><code>{% for song in songs %}
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>{{ song.lyrics }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>{{ song.album.song_count }}<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
{% endfor %}
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.instant", "navigation.top", "search.highlight", "content.code.annotate", "content.code.copy", "toc.follow"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>